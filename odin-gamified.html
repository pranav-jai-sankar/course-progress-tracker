<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Odin Progress Tracker</title>
    <style>
        :root {
            --primary: #e67e22;
            --primary-tint: #fdf2e9;
            --primary-shade: #cf711f;
            --secondary: #2563eb;
            --success: #22c55e;
            --background: #f8fafc;
            --card-bg: #ffffff;
            --text: #1e293b;
            --grey-light: #fdf2e9;
            --grey-dark: #333;
        }

        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }

        html {
            font-size: 62.5%;
            overflow-x: hidden;
        }

        body {
            font-family: "Rubik", sans-serif;
            line-height: 1.6;
            font-weight: 400;
            color: var(--text);
            background: var(--background);
            min-height: 100vh;
            padding: 2rem;
        }

        .container {
            max-width: 120rem;
            padding: 0 3.2rem;
            margin: 0 auto;
        }

        .grid {
            display: grid;
            column-gap: 6.4rem;
            row-gap: 9.6rem;
        }

        .grid--2-cols {
            grid-template-columns: repeat(2, 1fr);
        }

        .grid--3-cols {
            grid-template-columns: repeat(3, 1fr);
        }

        .heading-primary,
        .heading-secondary,
        .heading-tertiary {
            font-weight: 700;
            color: var(--grey-dark);
            letter-spacing: -0.5px;
        }

        .heading-primary {
            font-size: 5.2rem;
            line-height: 1.05;
            margin-bottom: 3.2rem;
        }

        .heading-secondary {
            font-size: 4.4rem;
            line-height: 1.2;
            margin-bottom: 9.6rem;
        }

        .heading-tertiary {
            font-size: 3rem;
            line-height: 1.2;
            margin-bottom: 3.2rem;
        }

        .subheading {
            display: block;
            font-size: 1.6rem;
            font-weight: 500;
            color: var(--primary-shade);
            text-transform: uppercase;
            margin-bottom: 1.6rem;
            letter-spacing: 0.75px;
        }

        .btn,
        .btn:link,
        .btn:visited {
            display: inline-block;
            text-decoration: none;
            font-size: 2rem;
            font-weight: 600;
            padding: 1.6rem 3.2rem;
            border-radius: 9px;
            border: none;
            cursor: pointer;
            font-family: inherit;
            transition: all 0.3s;
        }

        .btn--full:link,
        .btn--full:visited {
            background-color: var(--primary);
            color: #fff;
        }

        .btn--full:hover,
        .btn--full:active {
            background-color: var(--primary-shade);
        }

        .btn--outline:link,
        .btn--outline:visited {
            background-color: #fff;
            color: var(--text);
        }

        .btn--outline:hover,
        .btn--outline:active {
            background-color: var(--grey-light);
            box-shadow: inset 0 0 0 3px #fff;
        }

        /* Week Card Styles */
        .week-card {
            background: var(--card-bg);
            border-radius: 11px;
            padding: 4.8rem;
            margin-bottom: 2.5rem;
            box-shadow: 0 2.4rem 4.8rem rgba(0, 0, 0, 0.075);
            transform-origin: center;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .week-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1),
                       0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        .week-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.3s ease;
        }

        .week-card:hover::before {
            transform: scaleX(1);
        }

        .week-card h2 {
            color: var(--primary);
            margin-bottom: 2rem;
            font-size: 2.4rem;
            position: relative;
            display: inline-block;
        }

        /* Task List Styles */
        .task-list {
            list-style: none;
            padding: 0;
        }

        .task-item {
            background: var(--grey-light);
            margin: 1rem 0;
            border-radius: 12px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .task-item:hover {
            transform: scale(1.02);
        }

        .checkbox-label {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            padding: 1.5rem;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s ease;
        }

        /* Custom Checkbox */
        input[type="checkbox"] {
            -webkit-appearance: none;
            appearance: none;
            width: 2.4rem;
            height: 2.4rem;
            border: 2px solid var(--primary);
            border-radius: 6px;
            cursor: pointer;
            position: relative;
            transition: all 0.3s ease;
        }

        input[type="checkbox"]:checked {
            background: var(--primary);
            border-color: var(--primary);
        }

        input[type="checkbox"]::after {
            content: '‚úì';
            font-size: 1.6rem;
            color: white;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            transition: transform 0.2s ease;
        }

        input[type="checkbox"]:checked::after {
            transform: translate(-50%, -50%) scale(1);
        }

        .task-link {
            color: var(--secondary);
            text-decoration: none;
            margin-left: auto;
            padding: 0.8rem 1.6rem;
            border-radius: 8px;
            background: rgba(37, 99, 235, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .task-link::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(37, 99, 235, 0.2);
            transform: translateX(-100%);
            transition: transform 0.3s ease;
        }

        .task-link:hover::before {
            transform: translateX(0);
        }

        .task-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(37, 99, 235, 0.1);
        }

        /* Animations */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

        @keyframes xpFlash {
            0% { background-color: rgba(230, 126, 34, 0.1); }
            100% { background-color: transparent; }
        }

        .xp-gain,
        .xp-flash {
            animation: none !important;
        }

        .task-item.completed {
            background: linear-gradient(90deg, 
                rgba(34, 197, 94, 0.1), 
                rgba(34, 197, 94, 0.2));
            background-size: 200% 100%;
            animation: complete 2s linear forwards;
        }

        /* AI Panel Styles */
        .ai-panel {
            position: fixed;
            bottom: 2rem;
            left: 2rem;
            background: white;
            padding: 2rem;
            border-radius: 16px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            max-width: 30rem;
            z-index: 1002;
        }

        /* Loading Spinner */
        .spinner {
            width: 44px;
            height: 44px;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            transition: transform 0.5s cubic-bezier(0.23, 1, 0.32, 1);
            transform-style: preserve-3d;
            pointer-events: none;
            z-index: 10000;
        }

        .spinner > div {
            background-color: rgba(0,77,255,0.2);
            height: 100%;
            position: absolute;
            width: 100%;
            border: 2px solid #004dff;
            transition: all 0.3s ease;
        }

        /* Remove original animation keyframes and add hover effect */
        .spinner:hover > div {
            background-color: rgba(0,77,255,0.3);
            border-color: #0066ff;
        }

        .loading-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .loading-text {
            font-size: 1.6rem;
            color: var(--primary);
            margin-top: 1rem;
            text-align: center;
        }

        .ai-insights {
            padding: 1.5rem;
            background-color: rgba(67, 56, 202, 0.05);
            border-radius: 12px;
            margin-bottom: 1.5rem;
        }

        .ai-insights h4 {
            color: var(--primary);
            margin-top: 0;
            margin-bottom: 1rem;
            font-size: 1.8rem;
        }

        .ai-insights .ai-content {
            font-size: 1.6rem;
            line-height: 1.5;
        }

        /* Query Container */
        .query-container {
            margin-bottom: 2rem;
            transition: transform 0.3s ease;
            position: relative;
            --width-of-input: 100%;
            --border-height: 2px;
            --border-before-color: #e67e22;
            --border-after-color: #2563eb;
            max-width: 60rem;
            margin: 2rem auto;
        }

        .query-container:hover {
            transform: scale(1.02);
        }

        .query-input {
            color: var(--text);
            font-size: 1.8rem;
            background-color: transparent;
            width: 100%;
            box-sizing: border-box;
            padding-inline: 1em;
            padding-block: 1em;
            border: none;
            border-bottom: var(--border-height) solid var(--border-before-color);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .query-input:focus {
            outline: none;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .query-input::placeholder {
            color: var(--text);
            opacity: 0.6;
        }

        /* AI Response Panel */
        .ai-response-panel {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: white;
            padding: 2rem;
            border-radius: 16px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            max-width: 40rem;
            width: 90%;
            z-index: 1003;
            opacity: 0;
            transform: translateY(100%);
            animation: slideUp 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
        }

        .ai-response-panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 16px 16px 0 0;
        }

        .ai-response-panel h3 {
            color: var(--primary);
            font-size: 2rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .ai-response-content {
            font-size: 1.6rem;
            line-height: 1.6;
            color: var(--text);
            margin-bottom: 1.5rem;
            max-height: 30rem;
            overflow-y: auto;
            padding-right: 1rem;
        }

        .ai-response-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 2rem;
            cursor: pointer;
            color: var(--text);
            opacity: 0.6;
            transition: all 0.3s ease;
        }

        .ai-response-close:hover {
            opacity: 1;
            transform: rotate(90deg);
        }

        @keyframes slideUp {
            0% {
                transform: translateY(100%);
                opacity: 0;
            }
            100% {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes slideDown {
            0% {
                transform: translateY(0);
                opacity: 1;
            }
            100% {
                transform: translateY(100%);
                opacity: 0;
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .checkbox-label {
                flex-direction: column;
                align-items: flex-start;
            }

            .task-link {
                margin-left: 0;
                margin-top: 1rem;
                width: 100%;
                text-align: center;
            }

            .week-card {
                padding: 2.4rem;
            }

            .heading-primary {
                font-size: 4.4rem;
            }

            .heading-secondary {
                font-size: 3.6rem;
            }
        }

        /* Chat Bot Styles */
        .chat-bot {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 4rem;
            height: 4rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .chat-bot:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
        }

        .chat-bot-icon {
            font-size: 2rem;
            color: white;
        }

        .chat-window {
            position: fixed;
            bottom: 7rem;
            right: 2rem;
            width: 35rem;
            height: 50rem;
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            z-index: 999;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s ease;
        }

        .chat-window.active {
            opacity: 1;
            transform: translateY(0);
        }

        .chat-header {
            padding: 1.5rem;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            color: white;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .chat-header h3 {
            font-size: 1.8rem;
            margin: 0;
        }

        .chat-close {
            background: none;
            border: none;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            padding: 0.5rem;
            transition: transform 0.3s ease;
        }

        .chat-close:hover {
            transform: rotate(90deg);
        }

        .chat-messages {
            flex: 1;
            padding: 1.5rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .message {
            max-width: 80%;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            font-size: 1.4rem;
            line-height: 1.5;
            animation: messageAppear 0.3s ease;
        }

        .message.user {
            background: var(--grey-light);
            align-self: flex-end;
            border-bottom-right-radius: 4px;
        }

        .message.bot {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            align-self: flex-start;
            border-bottom-left-radius: 4px;
        }

        .chat-input-container {
            padding: 1.5rem;
            border-top: 1px solid var(--grey-light);
            display: flex;
            gap: 1rem;
        }

        .chat-input {
            flex: 1;
            padding: 1rem;
            border: 1px solid var(--grey-light);
            border-radius: 8px;
            font-size: 1.4rem;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .chat-input:focus {
            border-color: var(--primary);
        }

        .chat-send {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: 8px;
            padding: 0 1.5rem;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .chat-send:hover {
            transform: scale(1.05);
        }

        @keyframes messageAppear {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .course-search-container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 2rem;
            background: var(--card-bg);
            border-radius: 16px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .search-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .search-box {
            display: flex;
            gap: 1rem;
            max-width: 600px;
            margin: 0 auto;
        }

        #courseTopic {
            flex: 1;
            padding: 1rem;
            border: 2px solid var(--primary);
            border-radius: 8px;
            font-size: 1.6rem;
        }

        .course-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .course-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transform: translateY(20px);
            opacity: 0;
            animation: slideIn 0.3s ease forwards;
        }

        @keyframes slideIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .course-card h3 {
            color: var(--primary);
            margin-bottom: 1rem;
        }

        .course-meta {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            font-size: 1.4rem;
        }

        .course-details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }

        .course-card.expanded .course-details {
            max-height: 500px;
        }
    </style>
</head>
<body>
    <!-- Add Chat Bot -->
    <div class="chat-bot" onclick="toggleChat()">
        <div class="chat-bot-icon">ü§ñ</div>
    </div>

    <div class="chat-window" id="chatWindow">
        <div class="chat-header">
            <h3>AI Assistant</h3>
            <button class="chat-close" onclick="toggleChat()">√ó</button>
        </div>
        <div class="chat-messages" id="chatMessages">
            <div class="message bot">
                Hey there! I'm your coding buddy. Need help with anything? üöÄ
            </div>
        </div>
        <div class="chat-input-container">
            <input type="text" 
                   class="chat-input" 
                   placeholder="Type your message..."
                   id="chatInput"
                   onkeypress="handleChatInput(event)">
            <button class="chat-send" onclick="sendMessage()">Send</button>
        </div>
    </div>

    <div id="weekContainer"></div>

    <div class="course-search-container">
        <div class="search-header">
            <h2>Find Your Perfect Course</h2>
            <div class="search-box">
                <input type="text" id="courseTopic" placeholder="What do you want to learn? (e.g., JavaScript)">
                <button onclick="searchCourses()">Search Courses</button>
            </div>
        </div>
        <div id="courseResults" class="course-grid"></div>
        <div id="errorContainer" class="error-message"></div>
    </div>

    <script>
        // Replace the API constants at the top
        const SERPSTACK_API_KEY = '0d684acb388496a762570f9350fe1164'; // Get from https://serpstack.com
        const SERPSTACK_ENDPOINT = 'http://api.serpstack.com/search';

        // Curriculum data
        const curriculum = {
            weeks: [
                {
                    week: 1,
                    title: 'Getting Started',
                    tasks: [
                        {
                            id: 'html-basics',
                            title: 'HTML Foundations',
                            xp: 50,
                            link: 'https://www.theodinproject.com/lessons/foundations-html-foundations'
                        },
                        {
                            id: 'git-basics',
                            title: 'Git Basics',
                            xp: 30,
                            link: 'https://www.theodinproject.com/lessons/foundations-git-basics'
                        }
                    ]
                },
                {
                    week: 2,
                    title: 'CSS Fundamentals',
                    tasks: [
                        {
                            id: 'css-foundations',
                            title: 'CSS Foundations',
                            xp: 40,
                            link: 'https://www.theodinproject.com/lessons/foundations-css-foundations'
                        },
                        {
                            id: 'flexbox',
                            title: 'Flexbox',
                            xp: 60,
                            link: 'https://www.theodinproject.com/lessons/foundations-flexbox'
                        }
                    ]
                }
            ],
            learningObjectives: {
                'html-css': ['Semantic HTML', 'CSS Layouts', 'Responsive Design'],
                'js-fundamentals': ['Variables', 'Functions', 'DOM Manipulation']
            }
        };

        // Update the progress initialization
        let userProgress = JSON.parse(localStorage.getItem('userProgress')) || {
            completedTasks: [],
            recentActivity: [] // Removed XP-related properties
        };

        // Learning history
        let learningHistory = JSON.parse(localStorage.getItem('learningHistory')) || [];

        // Initialize Google Gemini
        let genAI;

        async function initGemini() {
            try {
                genAI = new GoogleGenerativeAI(GEMINI_API_KEY);
                console.log('Gemini initialized successfully');
            } catch (error) {
                console.error('Error initializing Gemini:', error);
            }
        }

        // Update chat context to remove XP references
        function getChatContext() {
            const completedTasks = userProgress.completedTasks.length;
            const currentWeek = curriculum.weeks.find(week => 
                week.tasks.some(task => !userProgress.completedTasks.includes(task.id))
            ) || curriculum.weeks[curriculum.weeks.length - 1];
            
            const nextTask = currentWeek.tasks.find(task => 
                !userProgress.completedTasks.includes(task.id)
            );

            return `
                You are OdinBot - a friendly coding assistant. 
                Focus on task completion rather than XP:
                1. Keep responses under 2 sentences
                2. Ask about current tasks
                3. Never mention XP or points
                Current focus: ${nextTask ? nextTask.title : 'All tasks completed'}
            `;
        }

        // Enhanced wolf interaction system
        class WolfAI {
            constructor() {
                this.model = genAI.getGenerativeModel({ model: "google/gemini-2.0-flash-thinking-exp:free" });
                this.chat = this.model.startChat({
                    history: [{ role: "user", content: wolfContext }]
                });
                this.mood = 'idle';
                this.lastResponse = Date.now();
            }

            async generateResponse(event, context) {
                try {
                    const prompt = `
                        Event: ${event}
                        Context: ${context}
                        Current mood: ${this.mood}
                        Previous interactions: ${JSON.stringify(learningHistory.slice(0, 3))}
                        
                        Respond as Odin's Wolf with a short, witty comment.
                    `;

                    const result = await this.chat.sendMessage(prompt);
                    const response = result.response.text();
                    this.updateMood(event);
                    return response;
                } catch (error) {
                    console.error('Error generating response:', error);
                    return this.getBackupResponse(event);
                }
            }

            updateMood(event) {
                const moods = {
                    'task_complete': 'happy',
                    'task_revert': 'roast',
                    'idle': 'think'
                };
                this.mood = moods[event] || 'idle';
                this.updateSprite();
            }

            updateSprite() {
                const sprite = document.querySelector('.wolf-sprite');
                sprite.className = `wolf-sprite ${this.mood}`;
            }

            getBackupResponse(event) {
                // Fallback responses if API fails
                const backupResponses = {
                    task_complete: "By Odin's beard, you did it! üéâ",
                    task_revert: "Back to the drawing board, young viking! üìö",
                    idle: "Watching you code is like watching paint dry... but more entertaining! üò¥"
                };
                return backupResponses[event] || "Hmm... *wolf noises* üê∫";
            }
        }

        // Initialize wolf AI
        let wolfAI;
        async function initWolf() {
            await initGemini();
            wolfAI = new WolfAI();
        }
        initWolf();

        // Add AI Tutor class
        class AITutor {
            constructor() {
                this.model = genAI.getGenerativeModel({ model: "google/gemini-2.0-flash-thinking-exp:free" });
                this.context = `
                    You are an AI learning coach for The Odin Project students. Your features:
                    - Analyze learning patterns and progress
                    - Suggest personalized study plans
                    - Recommend practice exercises
                    - Identify knowledge gaps
                    - Provide motivational feedback
                    - Use emojis and casual tone
                    - Offer encouragement and tips throughout their learning journey.
                `;
            }

            async generateStudyPlan(progress) {
                const prompt = `
                    Student Progress:
                    - Total XP: ${progress.totalXP}
                    - Completed tasks: ${progress.completedTasks.length}
                    - Recent activity: ${JSON.stringify(progress.recentActivity)}
                    
                    Generate a personalized weekly study plan with:
                    1. Focus areas
                    2. Recommended practice exercises
                    3. Time management tips
                    4. Motivation quote
                    
                    Format as markdown bullet points
                `;

                try {
                    const result = await this.model.generateContent(this.context + prompt);
                    return result.response.text();
                } catch (error) {
                    return this.getFallbackPlan();
                }
            }

            async analyzePerformance(history) {
                const prompt = `
                    Learning History:
                    ${JSON.stringify(history.slice(0, 10))}
                    
                    Identify:
                    1. 3 strengths
                    2. 3 areas for improvement
                    3. Suggested resources
                    4. Weekly time distribution
                    
                    Format as markdown
                `;

                // ... similar implementation ...
            }

            getFallbackPlan() {
                return `
                    **Weekly Study Plan** üåü
                    - Focus: HTML/CSS Fundamentals
                    - Practice: Build a responsive navbar
                    - Tip: Use Pomodoro technique (25min work/5min break)
                    - Quote: "The expert in anything was once a beginner!" üê∫
                `;
            }

            async generateHistoryInsights(progress) {
                const prompt = `
                    Student Learning History Analysis:
                    - Total XP: ${progress.totalXP}
                    - Completed tasks: ${progress.completedTasks.length}
                    - Recent activity: ${JSON.stringify(progress.recentActivity)}

                    Analyze this learning history and provide:
                    1. Key strengths observed
                    2. Areas for potential improvement
                    3. Specific next steps or focus areas
                    4. A motivational message

                    Format as markdown bullet points. Keep it concise and encouraging.
                `;

                try {
                    const result = await this.model.generateContent(this.context + prompt);
                    return result.response.text();
                } catch (error) {
                    return this.getFallbackHistoryInsights();
                }
            }

            getFallbackHistoryInsights() {
                return `
                    **AI Insights (Fallback)** üê∫
                    - Strength: Consistent progress!
                    - Improvement: Explore more advanced topics.
                    - Next Steps: Try a new project this week.
                    - Message: "Keep coding, keep growing!" üå±
                `;
            }

            async generateDetailedInsights(currentInsights) {
                const prompt = `
                    Expand on these initial learning insights:
                    "${currentInsights}"

                    Provide more specific and actionable advice based on these points.
                    Suggest concrete steps and resources the student can use to improve and build on their strengths.

                    Format as markdown bullet points with more detail. Be encouraging and helpful.
                `;

                try {
                    const result = await this.model.generateContent(this.context + prompt);
                    return result.response.text();
                } catch (error) {
                    return this.getFallbackDetailedInsights();
                }
            }

            getFallbackDetailedInsights() {
                return `
                    **More AI Insights (Fallback)** üê∫
                    - To build on your strengths, focus on projects that utilize your current skills.
                    - For improvement areas, try breaking down complex topics into smaller parts.
                    - Explore online resources like MDN and Stack Overflow for deeper understanding.
                    - Remember, consistent practice is key to mastery! üå±
                `;
            }

            // New method to generate personalized comments and help
            async generatePersonalizedComment(progress, currentTaskTitle) {
                const prompt = `
                    Student is currently working on: ${currentTaskTitle}
                    Student Progress:
                    - Total XP: ${progress.totalXP}
                    - Completed tasks: ${progress.completedTasks.length}
                    - Recent activity: ${JSON.stringify(progress.recentActivity)}

                    Provide a short, personalized comment to encourage and help the student in their Odin Project journey.
                    This could include:
                    - A motivational message related to their current task or overall progress.
                    - A helpful tip or reminder relevant to web development or learning to code.
                    - A question to prompt reflection on their learning.

                    Keep it concise, encouraging, and relevant. Use emojis and a casual tone.
                `;

                try {
                    const result = await this.model.generateContent(this.context + prompt);
                    return result.response.text();
                } catch (error) {
                    return this.getFallbackPersonalizedComment();
                }
            }

            getFallbackPersonalizedComment() {
                return `
                    Keep up the great work! üí™ Remember, consistency is key in coding. You've got this! üöÄ
                `;
            }

            // New method for generating progress summary and recommendations
            async generateProgressSummary(progress) {
                const prompt = `
                    Student Progress Summary Request:

                    - Total XP: ${progress.totalXP}
                    - Completed tasks: ${progress.completedTasks.length}
                    - Recent activity (last 5 actions): ${JSON.stringify(progress.recentActivity.slice(0, 5))}

                    Provide a concise summary of the student's current journey in The Odin Project.
                    Include:
                    1.  A brief overview of their progress so far.
                    2.  Specific recommendations for their *next steps*, including what to focus on next.
                    3.  Encouragement and motivation.

                    Format as markdown. Use emojis and a casual, helpful tone.
                `;

                try {
                    const result = await this.model.generateContent(this.context + prompt);
                    return result.response.text();
                } catch (error) {
                    return this.getFallbackProgressSummary();
                }
            }

            getFallbackProgressSummary() {
                return `
                    **Your Odin Journey So Far (Fallback)** üê∫
                    - You're making great progress! Keep up the momentum.
                    - Next Steps: Focus on practicing the concepts you've learned.
                    - Tip: Don't be afraid to experiment and build small projects! ‚ú®
                `;
            }
        }

        // Initialize AI Tutor
        let aiTutor;
        async function initAITutor() {
            await initGemini();
            aiTutor = new AITutor();
        }
        initAITutor();

        // Update the handleCheckbox function
        async function handleCheckbox(checkbox, taskId, xp, taskTitle) {
            const taskItem = checkbox.closest('.task-item');
            
            if (checkbox.checked) {
                if (!userProgress.completedTasks.includes(taskId)) {
                    userProgress.completedTasks.push(taskId);
                }
            } else {
                userProgress.completedTasks = userProgress.completedTasks.filter(id => id !== taskId);
            }
            
            localStorage.setItem('userProgress', JSON.stringify(userProgress));
            
            // Rest of existing code without XP updates...
        }

        // Function to create week cards
        function createWeekCards() {
            const container = document.getElementById('weekContainer');
            
            curriculum.weeks.forEach((week, index) => {
                const weekCard = document.createElement('div');
                weekCard.className = 'week-card';
                if (index > 0) {
                    weekCard.style.opacity = '0';
                    weekCard.style.transform = 'translateX(100px) rotateY(90deg)';
                }
                
                weekCard.innerHTML = `
                    <h2>Week ${week.week}: ${week.title}</h2>
                    <ul class="task-list">
                        ${week.tasks.map(task => `
                            <li class="task-item">
                                <label class="checkbox-label">
                                    <input type="checkbox" 
                                           ${userProgress.completedTasks.includes(task.id) ? 'checked' : ''}
                                           onchange="handleCheckbox(this, '${task.id}', ${task.xp}, '${task.title}')">
                                    ${task.title} (${task.xp} XP)
                                    <a href="${task.link}" 
                                       class="task-link" 
                                       target="_blank">View Lesson ‚Üí</a>
                                </label>
                            </li>
                        `).join('')}
                    </ul>
                `;
                
                container.appendChild(weekCard);
                
                // Stagger animation for initial load
                if (index > 0) {
                    setTimeout(() => {
                        weekCard.style.opacity = '1';
                        weekCard.style.transform = 'translateX(0) rotateY(0)';
                    }, index * 300);
                }
            });
        }

        // Create week cards when page loads
        createWeekCards();

        // Cursor follower
        const cursorFollower = document.createElement('div');
        cursorFollower.className = 'cursor-follower';
        document.body.appendChild(cursorFollower);

        document.addEventListener('mousemove', (e) => {
            cursorFollower.style.left = e.clientX + 'px';
            cursorFollower.style.top = e.clientY + 'px';
            
            // Create sparkles
            createSparkle(e.clientX, e.clientY);
        });

        function createSparkle(x, y) {
            if (Math.random() > 0.9) { // Reduce sparkle frequency
                const sparkle = document.createElement('div');
                sparkle.className = 'sparkle';
                sparkle.style.left = x + 'px';
                sparkle.style.top = y + 'px';
                document.body.appendChild(sparkle);

                // Remove sparkle after animation
                setTimeout(() => sparkle.remove(), 1500);
            }
        }

        // Add cube rotation logic after existing cursor code
        document.addEventListener('mousemove', (e) => {
            const spinner = document.querySelector('.spinner');
            if (!spinner) return;

            const centerX = window.innerWidth / 2;
            const centerY = window.innerHeight / 2;
            const rotateY = (e.clientX - centerX) / 10;
            const rotateX = (e.clientY - centerY) / 5;

            spinner.style.transform = `
                translate(-50%, -50%)
                rotateX(${rotateX}deg) 
                rotateY(${rotateY}deg)
                scale(0.7)
            `;
        });

        // New function to handle wolf click and show AI Tutor recommendations
        async function showAITutorRecommendations() {
            const bubble = document.querySelector('.speech-bubble');

            // Show typing indicator
            bubble.innerHTML = `
                <div class="typing-indicator">
                    <span></span><span></span><span></span>
                </div>
            `;
            bubble.classList.add('active');

            // Get recent activity from learning history
            const recentActivity = learningHistory.map(item => ({
                action: item.action,
                taskTitle: item.taskTitle
            }));

            // Generate recommendations
            const recommendations = await aiTutor.generateProgressSummary({
                totalXP: userProgress.totalXP,
                completedTasks: userProgress.completedTasks,
                recentActivity: recentActivity
            });

            // Display recommendations
            bubble.textContent = recommendations;

            // Position the bubble
            const wolf = document.querySelector('.wolf-container');
            bubble.style.left = (parseFloat(wolf.style.left) + 60) + 'px';
            bubble.style.top = (parseFloat(wolf.style.top) - 80) + 'px';

            // Clear after a longer delay (recommendations are more important)
            setTimeout(() => bubble.classList.remove('active'), 10000); // 10 seconds
        }

        // Add click event listener to the wolf container
        document.addEventListener('DOMContentLoaded', () => {
            const wolfContainer = document.querySelector('.wolf-container');
            if (wolfContainer) {
                wolfContainer.addEventListener('click', showAITutorRecommendations);
            }
        });

        function addToHistory(action, taskTitle) {
            const historyItem = {
                action,
                taskTitle,
                timestamp: new Date().toISOString()
            };
            learningHistory.unshift(historyItem);
            if (learningHistory.length > 50) learningHistory.pop();
            localStorage.setItem('learningHistory', JSON.stringify(learningHistory));
            updateHistoryPanel();
        }

        function updateHistoryPanel(aiInsights = null) {
            const historyList = document.getElementById('historyList');
            let historyHTML = learningHistory.map(item => `
                <div class="history-item">
                    <div>${item.action}: ${item.taskTitle}</div>
                    <div class="timestamp">${new Date(item.timestamp).toLocaleString()}</div>
                </div>
            `).join('');

            if (aiInsights) {
                historyHTML = `
                    <div class="ai-insights">
                        <h4>üîÆ AI Learning Insights</h4>
                        <div class="ai-content">${marked.parse(aiInsights)}</div>
                        <button onclick="askAiForMore()">Ask AI for More</button>
                    </div>
                    <hr/>
                    ${historyHTML}
                `;
            }

            historyList.innerHTML = historyHTML;
        }

        function toggleHistory() {
            document.querySelector('.history-panel').classList.toggle('active');
        }

        // Initialize
        updateHistoryPanel();

        // Add these new functions
        const emojis = ['‚ú®', 'üåü', '‚≠ê', 'üí´', 'üå†', 'üéÆ', 'üéØ', 'üé≤', 'üé®', 'üé≠', 'üé™', 'üé´'];
        const floatingElements = [];
        const REPULSION_DISTANCE = 150; // Distance at which repulsion starts
        const REPULSION_FORCE = 0.5; // Strength of repulsion

        function createFloatingEmojis() {
            // Create 15 floating emojis
            for (let i = 0; i < 15; i++) {
                const emoji = document.createElement('div');
                emoji.className = 'floating-emoji';
                emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                
                // Random position
                const x = Math.random() * (window.innerWidth - 50);
                const y = Math.random() * (window.innerHeight - 50);
                emoji.style.left = x + 'px';
                emoji.style.top = y + 'px';
                
                // Random animation variant
                const animationType = Math.random() < 0.3 ? 'spin' : 
                                    Math.random() < 0.6 ? 'pulse' : '';
                if (animationType) {
                    emoji.classList.add(animationType);
                }

                // Store initial position
                emoji.initialX = x;
                emoji.initialY = y;
                emoji.currentX = x;
                emoji.currentY = y;
                
                document.body.appendChild(emoji);
                floatingElements.push(emoji);
            }
        }

        function updateEmojiPositions(wolfX, wolfY) {
            floatingElements.forEach(emoji => {
                const dx = emoji.currentX - wolfX;
                const dy = emoji.currentY - wolfY;
                const distance = Math.sqrt(dx * dx + dy * dy);
                
                if (distance < REPULSION_DISTANCE) {
                    // Calculate repulsion
                    const force = (REPULSION_DISTANCE - distance) * REPULSION_FORCE;
                    const angle = Math.atan2(dy, dx);
                    
                    // Apply repulsion
                    emoji.currentX += Math.cos(angle) * force;
                    emoji.currentY += Math.sin(angle) * force;
                    
                    // Apply spring force back to initial position
                    const springForce = 0.05;
                    emoji.currentX += (emoji.initialX - emoji.currentX) * springForce;
                    emoji.currentY += (emoji.initialY - emoji.currentY) * springForce;
                    
                    // Update position with smooth transition
                    emoji.style.transform = `translate(${emoji.currentX - emoji.initialX}px, ${emoji.currentY - emoji.initialY}px)`;
                } else {
                    // Return to initial position
                    emoji.currentX += (emoji.initialX - emoji.currentX) * 0.05;
                    emoji.currentY += (emoji.initialY - emoji.currentY) * 0.05;
                    emoji.style.transform = `translate(${emoji.currentX - emoji.initialX}px, ${emoji.currentY - emoji.initialY}px)`;
                }
            });
        }

        // Modify the existing cursor movement handler
        document.addEventListener('mousemove', (e) => {
            // Update wolf position (previous code)
            cursorFollower.style.left = e.clientX + 'px';
            cursorFollower.style.top = e.clientY + 'px';
            
            // Update floating emojis
            updateEmojiPositions(e.clientX, e.clientY);
        });

        // Add resize handler to reposition emojis when window is resized
        window.addEventListener('resize', () => {
            floatingElements.forEach(emoji => {
                emoji.initialX = Math.random() * (window.innerWidth - 50);
                emoji.initialY = Math.random() * (window.innerHeight - 50);
                emoji.currentX = emoji.initialX;
                emoji.currentY = emoji.initialY;
                emoji.style.left = emoji.initialX + 'px';
                emoji.style.top = emoji.initialY + 'px';
                emoji.style.transform = 'translate(0, 0)';
            });
        });

        // Initialize floating emojis when page loads
        window.addEventListener('load', () => {
            createFloatingEmojis();
        });

        // Add this to the handleCheckbox function to create celebration emojis
        function createCelebrationEmojis(x, y) {
            for (let i = 0; i < 5; i++) {
                const emoji = document.createElement('div');
                emoji.className = 'floating-emoji celebration';
                emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                emoji.style.left = x + 'px';
                emoji.style.top = y + 'px';
                
                // Random trajectory
                const angle = (Math.random() * Math.PI * 2);
                const distance = 100 + Math.random() * 100;
                const duration = 1000 + Math.random() * 500;
                
                emoji.style.transition = `all ${duration}ms cubic-bezier(0.25, 0.46, 0.45, 0.94)`;
                
                document.body.appendChild(emoji);
                
                setTimeout(() => {
                    emoji.style.transform = `translate(
                        ${Math.cos(angle) * distance}px, 
                        ${Math.sin(angle) * distance}px
                    ) scale(0)`;
                }, 50);
                
                // Remove after animation
                setTimeout(() => emoji.remove(), duration);
            }
        }

        // New recommendation system UI
        function showRecommendations(content) {
            const existingPanel = document.getElementById('aiRecommendations');
            if (existingPanel) existingPanel.remove();

            // Add error handling
            if (!content || content.includes("AIzaSyCquvSdQi")) {
                content = "üîÆ The AI is currently meditating... Try again later!";
            }

            const panel = document.createElement('div');
            panel.id = 'aiRecommendations';
            panel.className = 'ai-panel';
            panel.innerHTML = `
                <h3>üê∫ AI Learning Tips</h3>
                <div class="ai-content">${marked.parse(content)}</div>
                <button onclick="this.parentElement.remove()">‚úï</button>
            `;

            document.body.appendChild(panel);
        }

        // Temporary mock function
        async function generateStudyPlan() {
            return `
                **This Week's Plan** üöÄ
                - Focus: Flexbox layouts
                - Practice: Build a pricing grid
                - Tip: 25min focused sessions
                - Quote: "Code is poetry!" üé®
            `;
        }

        // Add askAiForMore function
        async function askAiForMore() {
            const insightsContent = document.querySelector('.ai-content').textContent;
            const moreInsights = await aiTutor.generateDetailedInsights(insightsContent);
            updateAiInsightsContent(moreInsights);
        }

        // New function to update only the AI insights content
        function updateAiInsightsContent(newContent) {
            const aiContentDiv = document.querySelector('.ai-content');
            aiContentDiv.innerHTML = marked.parse(newContent);
        }

        // Add checkAI function
        async function checkAI() {
            const API_KEY = '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';
            const model = 'google/gemini-2.0-flash-thinking-exp:free';
            const prompt = "Just say 'AI is working' if you are working.";

            // Create and show loading spinner
            const loadingPanel = document.createElement('div');
            loadingPanel.id = 'aiLoadingPanel';
            loadingPanel.className = 'ai-panel';
            loadingPanel.innerHTML = `
                <div class="loading-container">
                    <div class="spinner">
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                    <div class="loading-text">Checking AI Connection...</div>
                </div>
                <button onclick="this.parentElement.remove()">‚úï</button>
            `;
            document.body.appendChild(loadingPanel);

            try {
                const response = await fetch('https://openrouter.ai/api/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${API_KEY}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        model: model,
                        messages: [
                            {
                                role: "system",
                                content: getChatContext()
                            },
                            {
                                role: "user",
                                content: prompt
                            }
                        ]
                    })
                });

                if (!response.ok) {
                    const message = `HTTP error! status: ${response.status} - ${response.statusText}`;
                    throw new Error(message);
                }

                const data = await response.json();
                console.log("OpenRouter API Response:", data);

                // Remove loading panel
                loadingPanel.remove();

                if (data.choices && data.choices.length > 0) {
                    const aiResponse = data.choices[0].message.content;
                    showPersonalizedComment(aiResponse);
                } else {
                    showPersonalizedComment("AI Check Failed: No response from AI. Check console for details.");
                }

            } catch (error) {
                console.error("Error during AI check:", error);
                // Remove loading panel
                loadingPanel.remove();
                showPersonalizedComment(`AI Check Error: ${error.message}`);
            }
        }

        // Update showPersonalizedComment function
        function showPersonalizedComment(content) {
            const existingPanel = document.getElementById('aiPersonalizedComment');
            if (existingPanel) existingPanel.remove();

            // Error handling - fallback comment if content is empty or contains API key
            if (!content || content.includes("AIzaSyCquvSdQi")) {
                content = "üîÆ AI is thinking of amazing tips... Check back soon!";
            }

            const panel = document.createElement('div');
            panel.id = 'aiPersonalizedComment';
            panel.className = 'ai-panel';
            panel.innerHTML = `
                <h3>üí° AI Response</h3>
                <div class="ai-content">${marked.parse(content)}</div>
                <button onclick="this.parentElement.remove()">‚úï</button>
            `;

            document.body.appendChild(panel);
        }

        // Add chat functionality
        function toggleChat() {
            const chatWindow = document.getElementById('chatWindow');
            chatWindow.classList.toggle('active');
        }

        function handleChatInput(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        async function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (message) {
                try {
                    // Check if chat elements exist
                    const messagesContainer = document.getElementById('chatMessages');
                    if (!messagesContainer) {
                        throw new Error('Chat container not found');
                    }

                    addMessage(message, 'user');
                    input.value = '';

                    const typingIndicator = addMessage('...', 'bot');
                    typingIndicator.classList.add('typing');

                    // API Configuration
                    const API_KEY = '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';
                    const model = 'google/gemini-2.0-flash-thinking-exp:free';

                    // Network/API Errors
                    try {
                        const response = await fetch('https://openrouter.ai/api/v1/chat/completions', {
                            method: 'POST',
                            headers: {
                                'Authorization': `Bearer ${API_KEY}`,
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify({
                                model: model,
                                messages: [
                                    {
                                        role: "system",
                                        content: getChatContext()
                                    },
                                    {
                                        role: "user",
                                        content: message
                                    }
                                ]
                            })
                        });

                        if (!response.ok) {
                            switch (response.status) {
                                case 401:
                                    throw new Error('API key invalid üîë');
                                case 429:
                                    throw new Error('Too many requests, take a short break ‚è≥');
                                case 500:
                                    throw new Error('Server is taking a coffee break ‚òï');
                                default:
                                    throw new Error(`API error: ${response.status}`);
                            }
                        }

                        const data = await response.json();
                        
                        // Data validation
                        if (!data || !data.choices || !data.choices.length) {
                            throw new Error('Got an empty response from AI ü§î');
                        }

                        typingIndicator.remove();
                        addMessage(data.choices[0].message.content, 'bot');

                    } catch (apiError) {
                        console.error("API Error:", apiError);
                        typingIndicator?.remove();
                        
                        // Friendly error messages based on error type
                        if (apiError.name === 'TypeError' && apiError.message.includes('fetch')) {
                            addMessage("Looks like I'm offline. Check your internet connection! üåê", 'bot');
                        } else if (apiError.message.includes('API key')) {
                            addMessage("My authentication spell isn't working. Please notify the admin! üîê", 'bot');
                        } else if (apiError.message.includes('Too many requests')) {
                            addMessage("Whoa, slow down! Let me catch my breath! ‚ö°", 'bot');
                        } else {
                            addMessage("Having trouble with my runes. Try again in a moment! üé≤", 'bot');
                        }
                    }

                } catch (error) {
                    console.error("Critical Error:", error);
                    // UI/DOM errors
                    if (error.message.includes('container not found')) {
                        console.error("Chat UI Error: Messages container missing");
                        alert("Chat interface error. Please refresh the page!");
                    } else {
                        addMessage("Something went wrong with the chat. Please refresh! üîÑ", 'bot');
                    }
                }
            }
        }

        // Helper function with error handling
        function addMessage(content, type) {
            try {
                const messagesContainer = document.getElementById('chatMessages');
                if (!messagesContainer) {
                    throw new Error('Chat container not found');
                }

                const messageDiv = document.createElement('div');
                if (!content) {
                    content = "Empty message received üìù";
                }

                messageDiv.className = `message ${type}`;
                messageDiv.textContent = content;
                messagesContainer.appendChild(messageDiv);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
                return messageDiv;
            } catch (error) {
                console.error("Message Display Error:", error);
                return null;
            }
        }

        // Update initial greeting
        function updateInitialGreeting() {
            const greeting = "Hey there! Ready to tackle some coding tasks? üíª";
            document.querySelector('.message.bot').textContent = greeting;
        }

        // Call this when page loads and after task completion
        updateInitialGreeting();

        // Update the greeting when tasks are completed
        const originalHandleCheckbox = handleCheckbox;
        handleCheckbox = async function(...args) {
            await originalHandleCheckbox.apply(this, args);
            updateInitialGreeting();
        };

        // Update the searchCourses function
        async function searchCourses() {
            const topic = document.getElementById('courseTopic').value.trim();
            const resultsContainer = document.getElementById('courseResults');
            const errorContainer = document.getElementById('errorContainer');
            
            try {
                resultsContainer.innerHTML = '';
                errorContainer.textContent = '';
                resultsContainer.innerHTML = '<div class="loading">Searching for courses...</div>';

                const response = await fetch(
                    `${SERPSTACK_ENDPOINT}?access_key=${SERPSTACK_API_KEY}&query=${encodeURIComponent(topic)}+courses&type=web`
                );

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const data = await response.json();
                const courses = processSerpstackResults(data);
                displayCourses(courses);

            } catch (error) {
                errorContainer.textContent = `Error: ${error.message}. Please try again later.`;
                resultsContainer.innerHTML = '';
                console.error("Serpstack API error:", error);
            }
        }

        function processSerpstackResults(data) {
            return data.organic_results?.map(result => ({
                title: result.title,
                provider: extractProvider(result.url),
                url: result.url,
                description: result.description || 'No description available',
                domain: result.domain,
                rating: extractRating(result.title + result.description)
            })) || [];
        }

        function extractProvider(url) {
            try {
                const domain = new URL(url).hostname;
                return domain.replace('www.', '').split('.')[0];
            } catch {
                return 'Unknown Provider';
            }
        }

        function extractRating(text) {
            const ratingMatch = text.match(/\d\.\d\/\d+|\d+%|\d+ star/);
            return ratingMatch ? ratingMatch[0] : 'Rating not available';
        }

        function displayCourses(courses) {
            const container = document.getElementById('courseResults');
            container.innerHTML = '';
            
            courses.forEach(course => {
                const card = document.createElement('div');
                card.className = 'course-card';
                card.innerHTML = `
                    <h3>${course.title}</h3>
                    <div class="course-meta">
                        <span class="provider">${course.provider}</span>
                        <span class="domain">${course.domain}</span>
                    </div>
                    <div class="course-description">${course.description}</div>
                    <div class="course-details">
                        <a href="${course.url}" target="_blank" class="course-link">Visit Course ‚Üí</a>
                    </div>
                `;
                
                container.appendChild(card);
            });
        }
    </script>
</body>
</html>
